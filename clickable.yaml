clickable_minimum_required: 8.0.0
builder: custom
kill: java
build:
  - rm -rf jdk*
  - if [[ "${ARCH}" == "amd64" ]]; then ARCH_DOWNLOAD="x64"; elif [[ "${ARCH}" == "arm64" ]]; then ARCH_DOWNLOAD="aarch64"; else echo "Unsupported architecture (${ARCH})! Only amd64 and arm64 are supported."; exit 1; fi; wget https://download.java.net/java/GA/jdk21.0.2/f2283984656d49d69e91c558476027ac/13/GPL/openjdk-21.0.2_linux-${ARCH_DOWNLOAD}_bin.tar.gz -O jdk.tar.gz
  - tar -xzf ${BUILD_DIR}/jdk.tar.gz
install_root_data:
  - manifest.json
  - jarman.apparmor
  - jarman.desktop
  - assets
  - midlet.jar
  - build/$ARCH_TRIPLET/freej2me/build/freej2me.jar
  - ${BUILD_DIR}/jdk-*/
libraries:
  freej2me:
    builder: custom
    dependencies_host:
      - ant
    prebuild:
      - cp -a ../../../libs/freej2me/* .
    build:
      - ant
      - echo ${ARCH}
